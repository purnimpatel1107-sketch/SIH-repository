<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vlink Enhanced</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d;
            color: #e0e0e0;
            overflow-x: hidden;
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .sidebar-item-active {
            background-color: #2b2b2b;
            border-radius: 0.5rem;
            color: #e0e0e0;
            font-weight: 600;
        }

        .page-content {
            display: none;
        }

        .page-content.active {
            display: block;
        }
        
        /* Sidebar Mobile Styles */
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }

        @media (max-width: 768px) {
            #sidebar {
                transform: translateX(-100%);
                position: fixed;
                z-index: 50;
                height: 100%;
            }
            #sidebar.open {
                transform: translateX(0);
            }
            #sidebar-overlay {
                position: fixed;
                top: 0; left: 0; right: 0; bottom: 0;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 40;
            }
        }
        
        /* Modal Styles */
        .modal-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.75);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .modal {
            background-color: #1e1e1e;
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 500px;
            color: #e0e0e0;
        }

        /* Toast Notification Styles */
        #toast-container {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            z-index: 150;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .toast {
            background-color: #2b2b2b;
            color: #e0e0e0;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
        }
        .toast.show {
            opacity: 1;
            transform: translateY(0);
        }
        /* ==========================================================
    üü¢ 1) MOBILE (0‚Äì600px)
    - Single column
    - Smaller padding
    - Cards full-width
    - Grid collapse
========================================================== */
@media (max-width: 600px) {

    main {
        padding: 1rem !important;
    }

    /* Dashboard stats: 4 ‚Üí 1 column */
    #dashboard .grid-cols-2 {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }

    /* Upcoming + Pending class card stacking */
    #dashboard .lg\:grid-cols-2 {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
    }

    /* File cards 2 ‚Üí 1 */
    #files .grid-cols-2 {
        grid-template-columns: 1fr !important;
    }

    /* Discussion stats 3 ‚Üí 1 */
    #discussions .md\:grid-cols-3 {
        grid-template-columns: 1fr !important;
    }

    /* Assignments: 3 ‚Üí 1 */
    #assignments .md\:grid-cols-3 {
        grid-template-columns: 1fr !important;
    }

    /* Cards padding compact */
    .p-6 {
        padding: 1rem !important;
    }

    /* Smaller font */
    #page-title {
        font-size: 1.4rem !important;
    }

    /* Buttons full width */
    button {
        width: 100% !important;
        padding: 0.7rem !important;
        font-size: 0.9rem !important;
    }

    /* Avatar hide (space save) */
    .lg\:block {
        display: none !important;
    }
}



/* ==========================================================
    üü° 2) TABLETS (600px‚Äì1024px)
    - 2 column grid
    - Medium spacing
========================================================== */
@media (min-width: 600px) and (max-width: 1024px) {

    /* Dashboard stats: 4 ‚Üí 2 columns */
    #dashboard .grid-cols-2 {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 1.2rem !important;
    }

    /* Upcoming + pending: 2 ‚Üí 1 (keep vertical for tablet) */
    #dashboard .lg\:grid-cols-2 {
        grid-template-columns: 1fr !important;
    }

    /* Files: 4 ‚Üí 2 columns */
    #files .md\:grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* Discussions stats: 3 ‚Üí 2 */
    #discussions .md\:grid-cols-3 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* Assignments: 3 ‚Üí 2 */
    #assignments .md\:grid-cols-3 {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    .p-6 {
        padding: 1.2rem !important;
    }

    #page-title {
        font-size: 1.8rem !important;
    }
}



/* ==========================================================
    üîµ 3) LAPTOP (1024px‚Äì1440px)
    ‚≠ê NO CHANGES ‚Äî you said keep exactly same arrangement
========================================================== */
@media (min-width: 1024px) and (max-width: 1440px) {
    /* Everything remains DEFAULT */
}



/* ==========================================================
    üü£ 4) LARGE DESKTOP (1440px‚Äì1800px)
========================================================== */
@media (min-width: 1440px) and (max-width: 1800px) {

    main {
        padding: 2.5rem !important;
    }

    .p-6 {
        padding: 1.8rem !important;
    }

    #page-title {
        font-size: 2.2rem !important;
    }
}


/* ==========================================================
    üî¥ 5) ULTRA-WIDE (1800px+)
    - Center content
    - 4 column wider layout
========================================================== */
@media (min-width: 1800px) {

    main {
        max-width: 1700px;
        margin: auto;
    }

    /* Dashboard stats: 4 ‚Üí spaced evenly */
    #dashboard .grid-cols-2 {
        grid-template-columns: repeat(4, 1fr) !important;
    }

    /* Files: 4 ‚Üí 4 but bigger gap */
    #files .md\:grid-cols-4 {
        gap: 2rem !important;
    }

    #page-title {
        font-size: 2.4rem !important;
    }
}

    </style>
</head>
<!--<body class="relative md:flex h-screen overflow-hidden">-->
<body class="relative md:flex min-h-screen overflow-x-hidden overflow-y-auto">

    <div id="sidebar-overlay" class="hidden md:hidden"></div>

    <div id="sidebar" class="w-64 bg-[#111111] p-6 flex flex-col justify-between scrollbar-hide overflow-y-auto">
        <div>
            <div class="text-white text-2xl font-bold mb-1">Vlink</div>
            <div class="text-sm text-gray-400 mb-8">Welcome to Vlink</div>
            
            <nav id="sidebar-nav">
                <a href="#dashboard" class="flex items-center space-x-3 p-3 rounded-lg text-gray-400 hover:bg-[#2b2b2b] mb-2" data-page="dashboard">
                    <i class="fa-solid fa-house w-5"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#classes" class="flex items-center space-x-3 p-3 rounded-lg text-gray-400 hover:bg-[#2b2b2b] mb-2" data-page="classes">
                    <i class="fa-solid fa-chalkboard-user w-5"></i>
                    <span>Classes</span>
                </a>
                <a href="#assignments" class="flex items-center space-x-3 p-3 rounded-lg text-gray-400 hover:bg-[#2b2b2b] mb-2" data-page="assignments">
                    <i class="fa-solid fa-list-check w-5"></i>
                    <span>Assignments</span>
                </a>
                <a href="#discussions" class="flex items-center space-x-3 p-3 rounded-lg text-gray-400 hover:bg-[#2b2b2b] mb-2" data-page="discussions">
                    <i class="fa-solid fa-comments w-5"></i>
                    <span>Discussions</span>
                </a>
                <a href="#files" class="flex items-center space-x-3 p-3 rounded-lg text-gray-400 hover:bg-[#2b2b2b] mb-2" data-page="files">
                    <i class="fa-solid fa-file-lines w-5"></i>
                    <span>Files</span>
                </a>
                <a href="#profile" class="flex items-center space-x-3 p-3 rounded-lg text-gray-400 hover:bg-[#2b2b2b] mb-2" data-page="profile">
                    <i class="fa-solid fa-user w-5"></i>
                    <span>Profile</span>
                </a>
            </nav>
        </div>

        <div class="mt-8">
            <a href="#settings" class="flex items-center space-x-3 p-3 rounded-lg text-gray-400 hover:bg-[#2b2b2b] mb-2" data-page="settings">
                <i class="fa-solid fa-gear w-5"></i>
                <span>Settings</span>
            </a>
        </div>
    </div>

    <main class="flex-1 p-4 md:p-8 bg-[#1e1e1e] overflow-y-auto scrollbar-hide">
        <div class="flex flex-wrap justify-between items-center gap-4 mb-6">
            <div class="flex items-center">
                <button id="hamburger-menu" class="md:hidden mr-4 text-xl text-gray-300">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 id="page-title" class="text-3xl font-bold text-white">Dashboard</h1>
            </div>
            
            <div class="flex items-center gap-4 w-full md:w-auto">
                <div class="relative flex-1 md:flex-initial">
                    <i class="fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
                    <input type="text" placeholder="Search..." class="bg-[#2b2b2b] text-white rounded-full py-2 pl-10 pr-4 w-full md:w-64 focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
                <div id="connection-status" class="hidden sm:flex items-center space-x-2 bg-[#2b2b2b] text-gray-400 px-4 py-2 rounded-full text-sm">
                    <span id="status-dot" class="w-2 h-2 rounded-full"></span>
                    <span id="status-text">Online</span>
                </div>
                <div class="flex items-center gap-3">
                    <img src="https://i.pravatar.cc/40" alt="User Avatar" class="w-10 h-10 rounded-full">
                    <div class="hidden lg:block">
                        <p class="font-semibold text-white">Student User</p>
                        <p class="text-xs text-gray-400">Class 10</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="content-area">

            <div id="dashboard" class="page-content active">
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Live Classes</p>
                            <p class="text-2xl font-bold">1</p>
                        </div>
                        <i class="fa-solid fa-video text-2xl text-green-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Upcoming</p>
                            <p class="text-2xl font-bold">1</p>
                        </div>
                        <i class="fa-solid fa-hourglass-start text-2xl text-blue-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Completed</p>
                            <p class="text-2xl font-bold">2</p>
                        </div>
                        <i class="fa-solid fa-check-circle text-2xl text-purple-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Pending</p>
                            <p class="text-2xl font-bold">1</p>
                        </div>
                        <i class="fa-solid fa-exclamation-triangle text-2xl text-orange-500"></i>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-6">
                    <div id="dashboard-live-class" class="bg-[#2b2b2b] p-6 rounded-lg shadow-md">
                        </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div id="dashboard-upcoming-class" class="bg-[#2b2b2b] p-6 rounded-lg shadow-md">
                           </div>

                        <div id="dashboard-pending-assignment" class="bg-[#2b2b2b] p-6 rounded-lg shadow-md">
                           </div>
                    </div>
                </div>
            </div>

            <div id="classes" class="page-content">
                <div id="classes-list-container" class="bg-[#2b2b2b] p-6 rounded-lg shadow-md space-y-4">
                    <h2 class="text-xl font-semibold text-white mb-2">Your Classes</h2>
                    </div>
            </div>

            <div id="assignments" class="page-content">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Pending</p>
                            <p id="assignments-pending-count" class="text-2xl font-bold">0</p>
                        </div>
                        <i class="fa-solid fa-exclamation-triangle text-2xl text-orange-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Completed</p>
                            <p id="assignments-completed-count" class="text-2xl font-bold">0</p>
                        </div>
                        <i class="fa-solid fa-check-circle text-2xl text-green-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Avg. Score</p>
                            <p class="text-2xl font-bold">85%</p>
                        </div>
                        <i class="fa-solid fa-star text-2xl text-yellow-500"></i>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-6">
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-semibold text-white mb-4">Pending Assignments</h2>
                        <div id="assignments-pending-list" class="space-y-4">
                            </div>
                    </div>

                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-semibold text-white mb-4">Completed Assignments</h2>
                        <div id="assignments-completed-list" class="space-y-4">
                            </div>
                    </div>
                </div>
            </div>
            
            <div id="quiz-modal-container" class="modal-container">
                <div class="modal">
                    <h2 class="text-2xl font-bold mb-4">Quiz: Mathematics Basics</h2>
                    <div id="quiz-questions">
                        </div>
                    <div class="flex justify-between items-center mt-6">
                        <button id="close-quiz-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg">Close</button>
                        <button id="submit-quiz-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg">Submit Quiz</button>
                    </div>
                </div>
            </div>

            <div id="discussions" class="page-content">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold text-white">Discussions</h2>
                    <button id="new-discussion-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg">
                        <i class="fa-solid fa-plus mr-2"></i>New Discussion
                    </button>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Total Discussions</p>
                            <p class="text-2xl font-bold">2</p>
                        </div>
                        <i class="fa-solid fa-comments text-2xl text-blue-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Total Replies</p>
                            <p class="text-2xl font-bold">4</p>
                        </div>
                        <i class="fa-solid fa-reply text-2xl text-purple-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Active Today</p>
                            <p class="text-2xl font-bold">1</p>
                        </div>
                        <i class="fa-solid fa-chart-line text-2xl text-orange-500"></i>
                    </div>
                </div>
                
                <div id="discussion-list" class="space-y-4">
                  </div>
            </div>
            
            <div id="new-discussion-modal-container" class="modal-container">
                <div class="modal">
                    <h2 class="text-2xl font-bold mb-4">Start a New Discussion</h2>
                    <form id="new-discussion-form">
                        <div class="mb-4">
                            <label for="discussion-title" class="block text-sm font-medium text-gray-300 mb-2">Title</label>
                            <input type="text" id="discussion-title" name="title" class="w-full p-3 rounded-lg bg-[#2b2b2b] text-white focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div class="mb-4">
                            <label for="discussion-content" class="block text-sm font-medium text-gray-300 mb-2">Content</label>
                            <textarea id="discussion-content" name="content" rows="4" class="w-full p-3 rounded-lg bg-[#2b2b2b] text-white focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
                        </div>
                        <div class="flex justify-end gap-4 mt-6">
                            <button type="button" id="close-discussion-modal" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded-lg">Cancel</button>
                            <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg">Post</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="files" class="page-content">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold text-white">Files</h2>
                    <div class="flex items-center space-x-4">
                        <button class="bg-[#2b2b2b] hover:bg-[#3d3d3d] text-gray-400 font-bold py-2 px-4 rounded-lg">
                            <i class="fa-solid fa-upload mr-2"></i>Upload
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8">
                     <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Total Files</p>
                            <p class="text-2xl font-bold">4</p>
                        </div>
                        <i class="fa-solid fa-file-lines text-2xl text-blue-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Available Offline</p>
                            <p class="text-2xl font-bold">2</p>
                        </div>
                        <i class="fa-solid fa-cloud-arrow-down text-2xl text-green-500"></i>
                    </div>
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Total Size</p>
                            <p class="text-2xl font-bold">53.4 MB</p>
                        </div>
                        <i class="fa-solid fa-database text-2xl text-purple-500"></i>
                    </div>
                     <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md flex items-center justify-between">
                        <div>
                            <p class="text-sm text-gray-400">Sharable</p>
                            <p class="text-2xl font-bold">3</p>
                        </div>
                        <i class="fa-solid fa-share-nodes text-2xl text-orange-500"></i>
                    </div>
                </div>
                
                <div class="bg-[#2b2b2b] p-6 rounded-lg">
                    <div id="files-list-container" class="space-y-4">
                        </div>
                </div>
            </div>

            <div id="profile" class="page-content">
                <div class="bg-[#2b2b2b] p-6 rounded-lg mb-8">
                    <nav class="flex space-x-1 rounded-lg bg-[#111111] p-1 mb-6" role="tablist">
                        <button id="tab-profile-profile" class="flex-1 px-4 py-2 rounded-lg text-sm" role="tab">Profile</button>
                        <button id="tab-profile-preferences" class="flex-1 px-4 py-2 rounded-lg text-sm" role="tab">Preferences</button>
                        <button id="tab-profile-network" class="flex-1 px-4 py-2 rounded-lg text-sm" role="tab">Network</button>
                        <button id="tab-profile-data" class="flex-1 px-4 py-2 rounded-lg text-sm" role="tab">Data</button>
                    </nav>

                    <div id="profile-tabs">
                        <div id="tab-content-profile" class="profile-tab-content">
                             <h3 class="text-xl font-semibold mb-4">Personal Information</h3>
                            <div class="bg-[#111111] p-6 rounded-lg grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div class="space-y-2">
                                    <p class="text-sm text-gray-400">Full Name</p>
                                    <p class="text-white">Student User</p>
                                </div>
                                <div class="space-y-2">
                                    <p class="text-sm text-gray-400">Email</p>
                                    <p class="text-white">student@example.com</p>
                                </div>
                                <div class="space-y-2">
                                    <p class="text-sm text-gray-400">Phone Number</p>
                                    <p class="text-white">+91 9876543210</p>
                                </div>
                                <div class="space-y-2">
                                    <p class="text-sm text-gray-400">Class</p>
                                    <p class="text-white">Class 10</p>
                                </div>
                                <div class="space-y-2">
                                    <p class="text-sm text-gray-400">Roll Number</p>
                                    <p class="text-white">STU001</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="tab-content-preferences" class="profile-tab-content hidden">
                           <h3 class="text-xl font-semibold mb-4">App Preferences</h3>
                            <div class="bg-[#111111] p-6 rounded-lg space-y-4">
                               <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-lg">Notifications</p>
                                        <p class="text-sm text-gray-400">Receive push notifications for classes</p>
                                    </div>
                                     <button class="px-4 py-2 text-sm bg-green-600 text-white rounded-lg">Enabled</button>
                                </div>
                               <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-lg">Auto Download</p>
                                        <p class="text-sm text-gray-400">Download materials on Wi-Fi only</p>
                                    </div>
                                    <button class="px-4 py-2 text-sm bg-gray-600 text-white rounded-lg">Disabled</button>
                                </div>
                            </div>
                        </div>
                        
                        </div>
                </div>
            </div>

            <div id="settings" class="page-content">
                 <h2 class="text-xl font-semibold text-white mb-4">Settings</h2>
                 <div class="bg-[#2b2b2b] p-6 rounded-lg space-y-4">
                     <p class="text-lg">This page is a placeholder for future settings.</p>
                 </div>
            </div>
            
        </div>
    </main>
    
    <div id="toast-container"></div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- MOCK DATA ---
            const data = {
                classes: [
                    { id: 1, title: 'Physics - Motion', teacher: 'Dr. Ratnesh Lithoriya', participants: 25, status: 'live' },
                    { id: 2, title: 'Mathematics - Algebra', teacher: 'Dr. Kailash Chandra Bandu', date: '15/09/2025, 17:00 IST', status: 'upcoming' },
                    { id: 3, title: 'Chemistry - Atoms', teacher: 'Dr. Ratnesh Lithoriya', date: '12/09/2025', status: 'completed' }
                ],
                assignments: [
                    { id: 1, title: 'Mathematics Basics', details: '2 questions ‚Ä¢ 30 minutes', status: 'pending' },
                    { id: 2, title: 'Science Quiz', details: '10 questions', status: 'completed', score: 8, total: 10 },
                    { id: 3, title: 'Physics Problems', details: '5 questions', status: 'completed', score: 9, total: 10 }
                ],
                discussions: [
                    { id: 1, title: 'Doubt about quadratic equations', content: 'Can someone explain the discriminant formula?', author: 'A. Student A', time: '2h ago', replies: 1 },
                    { id: 2, title: 'Question on Newton\'s Laws', content: 'Is inertia the same as mass?', author: 'B. Student B', time: '1 day ago', replies: 3 }
                ],
                files: [
                    { name: 'Mathematics_Lecture_1.pdf', size: '1.85 MB', date: '13/05/2025', type: 'pdf', offline: true },
                    { name: 'Physics_Video_Lesson.mp4', size: '50 MB', date: '12/05/2025', type: 'video', offline: false },
                    { name: 'Chemistry_Notes.docx', size: '1000 KB', date: '11/05/2025', type: 'doc', offline: true }
                ]
            };
            
            // --- DOM ELEMENTS ---
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const hamburgerMenu = document.getElementById('hamburger-menu');
            const sidebarNav = document.getElementById('sidebar-nav');
            const contentArea = document.getElementById('content-area');
            const pageTitle = document.getElementById('page-title');
            const toastContainer = document.getElementById('toast-container');
            
            // --- PAGE NAVIGATION & RENDERING ---
            const renderPage = (pageName) => {
                const allPages = contentArea.querySelectorAll('.page-content');
                allPages.forEach(page => page.classList.remove('active'));

                const targetPage = document.getElementById(pageName);
                if (targetPage) {
                    targetPage.classList.add('active');
                    pageTitle.textContent = pageName.charAt(0).toUpperCase() + pageName.slice(1);
                }
                
                updateSidebarActiveState(pageName);
                // Dynamically render content when page is shown
                renderDynamicContent();
            };

            const updateSidebarActiveState = (pageName) => {
                const allSidebarItems = sidebarNav.querySelectorAll('a');
                allSidebarItems.forEach(item => {
                    item.classList.remove('sidebar-item-active');
                    if (item.getAttribute('data-page') === pageName) {
                        item.classList.add('sidebar-item-active');
                    }
                });
            };
            
            window.addEventListener('hashchange', () => {
                const pageName = window.location.hash.substring(1) || 'dashboard';
                renderPage(pageName);
            });

            // --- DYNAMIC CONTENT RENDERERS ---
            const renderDynamicContent = () => {
                renderDashboard();
                renderClasses();
                renderAssignments();
                renderDiscussions();
                renderFiles();
            };

            const renderDashboard = () => {
                const liveClass = data.classes.find(c => c.status === 'live');
                const upcomingClass = data.classes.find(c => c.status === 'upcoming');
                const pendingAssignment = data.assignments.find(a => a.status === 'pending');

                document.getElementById('dashboard-live-class').innerHTML = `
                    <h2 class="text-xl font-semibold text-white mb-4">Live Classes</h2>
                    <div class="bg-[#1e1e1e] p-4 md:p-6 rounded-lg flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                <span class="font-bold text-lg">${liveClass.title}</span>
                            </div>
                            <p class="text-gray-400 text-sm">${liveClass.teacher} &bull; ${liveClass.participants} participants</p>
                        </div>
                        <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-8 rounded-lg w-full md:w-auto">Join Class</button>
                    </div>`;
                
                document.getElementById('dashboard-upcoming-class').innerHTML = `
                    <h2 class="text-xl font-semibold text-white mb-4">Upcoming Classes</h2>
                    <div class="bg-[#111111] p-6 rounded-lg">
                        <p class="font-semibold text-lg mb-1">${upcomingClass.title}</p>
                        <p class="text-gray-400 text-sm">${upcomingClass.teacher}</p>
                        <p class="text-gray-400 text-xs mt-2">${upcomingClass.date}</p>
                    </div>`;

                document.getElementById('dashboard-pending-assignment').innerHTML = `
                    <h2 class="text-xl font-semibold text-white mb-4">Pending Assignments</h2>
                    <div class="bg-[#111111] p-6 rounded-lg flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                        <div>
                            <p class="font-semibold text-lg mb-1">${pendingAssignment.title}</p>
                            <p class="text-gray-400 text-sm">${pendingAssignment.details}</p>
                        </div>
                        <button onclick="window.location.hash='assignments'" class="bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-8 rounded-lg w-full md:w-auto">View</button>
                    </div>`;
            };

            const renderClasses = () => {
                const container = document.getElementById('classes-list-container');
                const classItemsHTML = data.classes.map(c => `
                    <div class="bg-[#1e1e1e] p-6 rounded-lg flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
                        <div>
                            <div class="flex items-center space-x-2 mb-2">
                                <div class="w-2 h-2 rounded-full ${c.status === 'live' ? 'bg-green-500 animate-pulse' : c.status === 'upcoming' ? 'bg-blue-500' : 'bg-gray-500'}"></div>
                                <span class="font-bold text-lg">${c.title}</span>
                            </div>
                            <p class="text-gray-400 text-sm">${c.teacher}</p>
                            ${c.participants ? `<p class="text-gray-400 text-sm">${c.participants} participants</p>` : ''}
                            ${c.date ? `<p class="text-gray-400 text-xs mt-1">Date: ${c.date}</p>` : ''}
                        </div>
                        <button class="bg-[#111111] text-white font-semibold py-3 px-8 rounded-lg w-full md:w-auto">${c.status === 'live' ? 'Join Now' : 'View Details'}</button>
                    </div>
                `).join('');
                container.innerHTML = `<h2 class="text-xl font-semibold text-white mb-2">Your Classes</h2>` + classItemsHTML;
            };

            const renderAssignments = () => {
                const pendingContainer = document.getElementById('assignments-pending-list');
                const completedContainer = document.getElementById('assignments-completed-list');
                
                const pending = data.assignments.filter(a => a.status === 'pending');
                const completed = data.assignments.filter(a => a.status === 'completed');

                document.getElementById('assignments-pending-count').textContent = pending.length;
                document.getElementById('assignments-completed-count').textContent = completed.length;
                
                pendingContainer.innerHTML = pending.map(a => `
                    <div class="bg-[#111111] p-6 rounded-lg flex items-center justify-between">
                        <div>
                            <p class="font-semibold text-lg mb-1">${a.title}</p>
                            <p class="text-gray-400 text-sm">${a.details}</p>
                        </div>
                        <button class="take-quiz-btn bg-orange-600 hover:bg-orange-700 text-white font-semibold py-3 px-8 rounded-lg">Take Quiz</button>
                    </div>`).join('') || `<p class="text-gray-400">No pending assignments.</p>`;

                completedContainer.innerHTML = completed.map(a => `
                    <div class="bg-[#111111] p-6 rounded-lg flex items-center justify-between">
                        <div>
                            <p class="font-semibold text-lg mb-1">${a.title}</p>
                            <p class="text-gray-400 text-sm">${a.details} &bull; Completed</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="font-bold text-green-500 text-lg">${a.score}/${a.total}</span>
                        </div>
                    </div>`).join('') || `<p class="text-gray-400">No completed assignments yet.</p>`;
                
                // Re-attach event listeners for new buttons
                document.querySelectorAll('.take-quiz-btn').forEach(btn => btn.addEventListener('click', openQuizModal));
            };

            const renderDiscussions = () => {
                const container = document.getElementById('discussion-list');
                container.innerHTML = data.discussions.map(d => `
                    <div class="bg-[#2b2b2b] p-6 rounded-lg shadow-md">
                        <h3 class="font-bold text-lg mb-2">${d.title}</h3>
                        <p class="text-gray-400 text-sm mb-4">${d.content}</p>
                        <div class="flex items-center justify-between text-gray-500 text-sm">
                            <div class="flex items-center space-x-4">
                                <span>${d.author}</span>
                                <span class="ml-2">${d.time}</span>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span class="flex items-center space-x-1 hover:text-white cursor-pointer"><i class="fa-solid fa-thumbs-up"></i><span>Like</span></span>
                                <span class="flex items-center space-x-1 hover:text-white cursor-pointer"><i class="fa-solid fa-reply"></i><span>${d.replies} Replies</span></span>
                            </div>
                        </div>
                    </div>
                `).join('');
            };

            const renderFiles = () => {
                const container = document.getElementById('files-list-container');
                const fileIcon = (type) => {
                    if (type === 'pdf') return 'fa-file-pdf text-red-500';
                    if (type === 'video') return 'fa-file-video text-blue-500';
                    if (type === 'doc') return 'fa-file-word text-blue-500';
                    return 'fa-file text-gray-400';
                };
                container.innerHTML = data.files.map(f => `
                     <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between p-4 bg-[#111111] rounded-lg gap-4">
                        <div class="flex items-center space-x-4">
                            <i class="fa-solid ${fileIcon(f.type)} text-2xl"></i>
                            <div>
                                <p class="text-lg">${f.name}</p>
                                <p class="text-sm text-gray-400">${f.size} &bull; ${f.date}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4 text-gray-400">
                            ${f.offline ? `<span class="px-3 py-1 text-sm bg-green-700 text-white rounded-full">Offline</span>` : '<button class="hover:text-white"><i class="fa-solid fa-cloud-arrow-down"></i></button>'}
                            <button onclick="copyToClipboard('${f.name}')" class="hover:text-white"><i class="fa-solid fa-share-nodes"></i></button>
                            <button class="hover:text-white"><i class="fa-solid fa-trash-can"></i></button>
                        </div>
                    </div>
                `).join('');
            };


            // --- RESPONSIVE SIDEBAR ---
            const toggleSidebar = () => {
                sidebar.classList.toggle('open');
                sidebarOverlay.classList.toggle('hidden');
            };
            hamburgerMenu.addEventListener('click', toggleSidebar);
            sidebarOverlay.addEventListener('click', toggleSidebar);

            // --- TOAST NOTIFICATIONS ---
            const showToast = (message, type = 'success') => {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.textContent = message;
                toastContainer.appendChild(toast);
                
                setTimeout(() => toast.classList.add('show'), 10);
                setTimeout(() => {
                    toast.classList.remove('show');
                    toast.addEventListener('transitionend', () => toast.remove());
                }, 3000);
            };
            
            // --- CLIPBOARD ---
            window.copyToClipboard = (text) => {
                try {
                    const tempInput = document.createElement('textarea');
                    tempInput.value = text;
                    document.body.appendChild(tempInput);
                    tempInput.select();
                    document.execCommand('copy');
                    document.body.removeChild(tempInput);
                    showToast(`Copied "${text}" to clipboard!`);
                } catch (err) {
                    showToast('Failed to copy text.', 'error');
                }
            };
            
            // --- PROFILE PAGE TABS ---
            const tabButtons = document.querySelectorAll('#profile nav button');
            tabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const targetBtnId = btn.id;
                    tabButtons.forEach(b => {
                        b.classList.remove('bg-[#2b2b2b]', 'font-bold', 'text-white');
                        b.classList.add('text-gray-400');
                    });
                    btn.classList.add('bg-[#2b2b2b]', 'font-bold', 'text-white');
                    btn.classList.remove('text-gray-400');
                    
                    const contentId = targetBtnId.replace('tab-profile-', 'tab-content-');
                    document.querySelectorAll('.profile-tab-content').forEach(c => c.classList.add('hidden'));
                    document.getElementById(contentId)?.classList.remove('hidden');
                });
            });
            document.getElementById('tab-profile-profile').click(); // Set initial tab
            
            // --- QUIZ MODAL ---
            const quizModalContainer = document.getElementById('quiz-modal-container');
            const submitQuizBtn = document.getElementById('submit-quiz-btn');
            const closeQuizBtn = document.getElementById('close-quiz-btn');

            const openQuizModal = () => {
                // Mock render quiz, in a real app you'd fetch this
                document.getElementById('quiz-questions').innerHTML = `
                    <div class="bg-[#2b2b2b] p-4 rounded-lg mb-4">
                        <p class="font-semibold mb-2">1. What is the square root of 81?</p>
                        <div class="space-y-2">
                            <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> 9</label>
                            <label class="flex items-center"><input type="radio" name="q1" class="mr-2"> 8</label>
                        </div>
                    </div>`;
                quizModalContainer.style.display = 'flex';
            };
            
            const closeQuizModal = () => quizModalContainer.style.display = 'none';

            submitQuizBtn.addEventListener('click', () => {
                closeQuizModal();
                showToast('Quiz submitted! Score: 1/1');
            });
            closeQuizBtn.addEventListener('click', closeQuizModal);
            
            // --- NEW DISCUSSION MODAL ---
            const newDiscussionModal = document.getElementById('new-discussion-modal-container');
            const newDiscussionBtn = document.getElementById('new-discussion-btn');
            const closeDiscussionBtn = document.getElementById('close-discussion-modal');
            const newDiscussionForm = document.getElementById('new-discussion-form');

            newDiscussionBtn.addEventListener('click', () => newDiscussionModal.style.display = 'flex');
            closeDiscussionBtn.addEventListener('click', () => newDiscussionModal.style.display = 'none');
            newDiscussionForm.addEventListener('submit', (e) => {
                e.preventDefault();
                showToast('Discussion posted!');
                newDiscussionModal.style.display = 'none';
                e.target.reset();
            });

            // --- DYNAMIC CONNECTION STATUS ---
            const statusDot = document.getElementById('status-dot');
            const statusText = document.getElementById('status-text');
            setInterval(() => {
                const isOnline = Math.random() > 0.1; // 90% chance of being online
                statusDot.style.backgroundColor = isOnline ? '#16a34a' : '#ef4444';
                statusText.textContent = isOnline ? 'Online' : 'Offline';
            }, 5000);
            
            // --- INITIAL LOAD ---
            const initialPage = window.location.hash.substring(1) || 'dashboard';
            renderPage(initialPage);
        });
    </script>
</body>
</html>